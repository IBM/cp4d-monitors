"use strict";(self.webpackChunkcloud_pak_deployer_monitors=self.webpackChunkcloud_pak_deployer_monitors||[]).push([[6265],{2876:function(t,o,e){e.r(o),e.d(o,{_frontmatter:function(){return i},default:function(){return c}});var a=e(3366),n=(e(7294),e(4983)),s=e(2125),r=["components"],i={},d={_frontmatter:i},l=s.Z;function c(t){var o=t.components,e=(0,a.Z)(t,r);return(0,n.kt)(l,Object.assign({},d,e,{components:o,mdxType:"MDXLayout"}),(0,n.kt)("h2",null,"Monitor Summary"),(0,n.kt)("p",null,"This monitor will generate the following observations:  "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Number of Cloud Pak for Data Watson Studio Jobs across all projects"),(0,n.kt)("li",{parentName:"ul"},"Number of Cloud Pak for Data Watson Studio Active Jobs across all projects  "),(0,n.kt)("li",{parentName:"ul"},"Number of Cloud Pak for Data Watson Studio Jobs per project"),(0,n.kt)("li",{parentName:"ul"},"Number of Cloud Pak for Data Watson Studio Active Jobs per project"),(0,n.kt)("li",{parentName:"ul"},"Run Status of Last Cloud Pak for Data Watson Studio Job  ")),(0,n.kt)("h2",null,"Monitor Requirements"),(0,n.kt)("p",null,"In order for Watson Studio Job Information to be available, CCS (Common Core Services) must be available on the Cloud Pak for Data instance. Catridges like Watson Studio and Watson Machine Learning automatically install CCS as part of their dependencies. If CCS is not available, no watson studio job information is available."),(0,n.kt)("h2",null,"Administrative Credential Requirements"),(0,n.kt)("p",null,"In order to retrieve the monitor data, the credential of admin user will be used. The default password of admin user is saved in the secret admin-user-details. You could use the below command to query the default password of the admin user.."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"oc extract secret/admin-user-details --keys=initial_admin_password --to=-\n")),(0,n.kt)("p",null,"Once the password of the admin user is changed, please also change the password in the secret admin-user-details. "),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"oc set data secret/admin-user-details initial_admin_password=<new password>\n")),(0,n.kt)("h2",null,"Deployment of the monitor"),(0,n.kt)("p",null,"This monitor can be deployed using the IBM Cloud Pak Deployer or manually deployed using oc commands:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/cp4d-monitors/monitors/cp4d-watsonstudio-job-info/deployer"},"Cloud Pak Deployer")," "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/cp4d-monitors/monitors/cp4d-watsonstudio-job-info/manual"},"Manual Deployment using oc commands"))),(0,n.kt)("h2",null,"Monitor Source"),(0,n.kt)("p",null,"Source folder containing the script can be found  ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/IBM/cp4d-monitors/tree/main/cp4d-watsonstudio-job-info"},"here (cp4d-watsonstudio-job-info).")),(0,n.kt)("h2",null,"Generated observations"),(0,n.kt)("p",null,"Once the monitor is deployed, the following observations are available in IBM Cloud Pak for Data Metrics:"),(0,n.kt)("h3",null,"Using the IBM Cloud Pak for Data Platform Management Events:"),(0,n.kt)("p",null,"https://","<","CP4D-BASE-URL",">","/zen/#/platformManagement/events"),(0,n.kt)("p",null,"On the Platform Management Events page the following entries are added:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Event"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Event Type"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Possible values"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Watson Studio Jobs Overall Count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of Cloud Pak for Data Watson Studio Jobs across all projects"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects and Jobs information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Watson Studio Active Jobs Overall Count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of Cloud Pak for Data Watson Studio Active Jobs across all projects"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects and Jobs information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Watson Studio Jobs Project Count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of Cloud Pak for Data Watson Studio Jobs per project"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects and Jobs information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Watson Studio Active Jobs Project Count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of Cloud Pak for Data Watson Studio Active Jobs per project"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects and Jobs information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Watson Studio Job Last Status"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Run Status of Last Cloud Pak for Data Watson Studio Job"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects, Jobs, and Job Run information are requested.")))),(0,n.kt)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",(0,n.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"41.66666666666667%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAABJ0AAASdAHeZh94AAABCUlEQVQY043PwW7DIAwGYJ65OVRbQypVu017w6ZRtYzm0kGA2DgGMoWoveywfQLpPyCbX9R1czqdpJRVVVW73XYOhZTyeGyeWUrZNPL1cKhr+bLfv328i/O5a9tL112+Vmq9St3+8tnfenUTRAERECHntPwbxyXlRTjnvPfTNDnnrLV+mhAx/IIP4zhqra0drbVi+6QxZhiGEvRQaK0vXde27fV67fteKaW13t58F/f7XQCAdy7gOpsoxBgBwI6j995YMMZsm7mY53kLMcZ1M4XgvQsh0EwxxmVZiMhZuw6F2Xu/NmTequacn7VDCIKIEJGZiYiZc85ENJXmgDMApJSYORUxxvSAiD8Eha0vm6YpNAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,n.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Overview Events and Alerts",title:"Overview Events and Alerts",src:"/cp4d-monitors/static/19633d3766a8453278cf4b506e364b4d/3cbba/cp4d_events.png",srcSet:["/cp4d-monitors/static/19633d3766a8453278cf4b506e364b4d/7fc1e/cp4d_events.png 288w","/cp4d-monitors/static/19633d3766a8453278cf4b506e364b4d/a5df1/cp4d_events.png 576w","/cp4d-monitors/static/19633d3766a8453278cf4b506e364b4d/3cbba/cp4d_events.png 1152w","/cp4d-monitors/static/19633d3766a8453278cf4b506e364b4d/0b124/cp4d_events.png 1728w","/cp4d-monitors/static/19633d3766a8453278cf4b506e364b4d/43692/cp4d_events.png 1868w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    "),(0,n.kt)("h3",null,"Using the IBM Cloud Pak for Data Prometheus endpoint"),(0,n.kt)("p",null,"https://","<","CP4D-BASE-URL",">","/zen/metrics"),(0,n.kt)("p",null,"It will generate 2 types of metrics:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Actual Result metrics",(0,n.kt)("br",{parentName:"li"}),"These metrics contain the observed values"),(0,n.kt)("li",{parentName:"ul"},"Zen Watchdog metrics",(0,n.kt)("br",{parentName:"li"}),"These metrics are used by the Cloud Pak for Data Zen Watchdog to monitor the state and trigger notifications")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Actual Result metrics:")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_jobs_overall_count\nProvides number of watson studio jobs across all projects"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_active_jobs_overall_count\nProvides number of watson studio active jobs across all projects"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_jobs_project_count\nProvides number of watson studio jobs per project"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_active_jobs_project_count\nProvides number of watson studio active jobs per project"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_job_last_status\nProvides run status of the last watson studio job.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'# HELP cp4d_watsonstudio_active_jobs_overall_count \n# TYPE cp4d_watsonstudio_active_jobs_overall_count gauge\ncp4d_watsonstudio_active_jobs_overall_count{event_type="cp4d_watsonstudio_active_jobs_overall_count",monitor_type="cp4dplatformwatsonstudiojobinfo",reference="All Watson Studio Projects"} 0\n# HELP cp4d_watsonstudio_active_jobs_project_count \n# TYPE cp4d_watsonstudio_active_jobs_project_count gauge\ncp4d_watsonstudio_active_jobs_project_count{event_type="cp4d_watsonstudio_active_jobs_project_count",monitor_type="cp4dplatformwatsonstudiojobinfo",reference="test-project"} 0\n# HELP cp4d_watsonstudio_job_last_start_epoch_time \n# TYPE cp4d_watsonstudio_job_last_start_epoch_time gauge\ncp4d_watsonstudio_job_last_start_epoch_time{event_type="cp4d_watsonstudio_job_last_status",monitor_type="cp4dplatformwatsonstudiojobinfo",reference="test-project_one-time-job-1"} 1.652924515e+09\n# HELP cp4d_watsonstudio_job_last_status_duration_in_seconds \n# TYPE cp4d_watsonstudio_job_last_status_duration_in_seconds gauge\ncp4d_watsonstudio_job_last_status_duration_in_seconds{event_type="cp4d_watsonstudio_job_last_status",monitor_type="cp4dplatformwatsonstudiojobinfo",reference="test-project_one-time-job-1"} 79\n# HELP cp4d_watsonstudio_job_last_status_success \n# TYPE cp4d_watsonstudio_job_last_status_success gauge\ncp4d_watsonstudio_job_last_status_success{event_type="cp4d_watsonstudio_job_last_status",monitor_type="cp4dplatformwatsonstudiojobinfo",reference="test-project_one-time-job-1"} 0\n# HELP cp4d_watsonstudio_jobs_overall_count \n# TYPE cp4d_watsonstudio_jobs_overall_count gauge\ncp4d_watsonstudio_jobs_overall_count{event_type="cp4d_watsonstudio_jobs_overall_count",monitor_type="cp4dplatformwatsonstudiojobinfo",reference="All Watson Studio Projects"} 1\n# HELP cp4d_watsonstudio_jobs_project_count \n# TYPE cp4d_watsonstudio_jobs_project_count gauge\ncp4d_watsonstudio_jobs_project_count{event_type="cp4d_watsonstudio_jobs_project_count",monitor_type="cp4dplatformwatsonstudiojobinfo",reference="test-project"} 1\n')),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Zen Watchdog metrics")," (used in platform management events)"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_jobs_overall_count"),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_active_jobs_overall_count"),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_jobs_project_count"),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_active_jobs_project_count"),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_job_last_status")),(0,n.kt)("p",null,"Zen Watchdog metrics can have the following values:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"2 (info)"),(0,n.kt)("li",{parentName:"ul"},"1 (warning)"),(0,n.kt)("li",{parentName:"ul"},"0 (critical)")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'# HELP watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_active_jobs_overall_count \n# TYPE watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_active_jobs_overall_count gauge\nwatchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_active_jobs_overall_count{event_type="cp4d_watsonstudio_active_jobs_overall_count",monitor_type="cp4dplatformwatsonstudiojobinfo",reference="All Watson Studio Projects"} 2\n# HELP watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_active_jobs_project_count \n# TYPE watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_active_jobs_project_count gauge\nwatchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_active_jobs_project_count{event_type="cp4d_watsonstudio_active_jobs_project_count",monitor_type="cp4dplatformwatsonstudiojobinfo",reference="test-project"} 2\n# HELP watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_job_last_status \n# TYPE watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_job_last_status gauge\nwatchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_job_last_status{event_type="cp4d_watsonstudio_job_last_status",monitor_type="cp4dplatformwatsonstudiojobinfo",reference="test-project_one-time-job-1"} 2\n# HELP watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_jobs_overall_count \n# TYPE watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_jobs_overall_count gauge\nwatchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_jobs_overall_count{event_type="cp4d_watsonstudio_jobs_overall_count",monitor_type="cp4dplatformwatsonstudiojobinfo",reference="All Watson Studio Projects"} 2\n# HELP watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_jobs_project_count \n# TYPE watchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_jobs_project_count gauge\nwatchdog_cp4dplatformwatsonstudiojobinfo_cp4d_watsonstudio_jobs_project_count{event_type="cp4d_watsonstudio_jobs_project_count",monitor_type="cp4dplatformwatsonstudiojobinfo",reference="test-project"} 2\n# HELP watchdog_diagnostics_check_deployment_status \n')))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-monitors-cp-4-d-watsonstudio-job-info-index-mdx-0920c46f29ed42b60ec0.js.map