"use strict";(self.webpackChunkcloud_pak_deployer_monitors=self.webpackChunkcloud_pak_deployer_monitors||[]).push([[1531],{8560:function(t,e,o){o.r(e),o.d(e,{_frontmatter:function(){return _},default:function(){return r}});var a=o(3366),n=(o(7294),o(4983)),s=o(7160),d=["components"],_={},u={_frontmatter:_},l=s.Z;function r(t){var e=t.components,o=(0,a.Z)(t,d);return(0,n.kt)(l,Object.assign({},u,o,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h2",null,"Monitor Summary"),(0,n.kt)("p",null,"This monitor will generate the following observations:  "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Number of Cloud Pak for Data Watson Studio scheduled jobs across all projects"),(0,n.kt)("li",{parentName:"ul"},"Number of Cloud Pak for Data Watson Studio scheduled jobs per project"),(0,n.kt)("li",{parentName:"ul"},"Number of Cloud Pak for Data Watson Studio scheduled jobs per user"),(0,n.kt)("li",{parentName:"ul"},"Number of Cloud Pak for Data Watson Studio scheduled Notebook jobs per user"),(0,n.kt)("li",{parentName:"ul"},"Number of Cloud Pak for Data Watson Studio scheduled DataStage jobs per user"),(0,n.kt)("li",{parentName:"ul"},"Run information of Last failed Cloud Pak for Data Watson Studio scheduled job"),(0,n.kt)("li",{parentName:"ul"},"Epoch time in seconds for the next run of Cloud Pak for Data Watson Studio scheduled job"),(0,n.kt)("li",{parentName:"ul"},"Last Run Duration time in seconds of Cloud Pak for Data Watson Studio scheduled job"),(0,n.kt)("li",{parentName:"ul"},"Last Run Epoch time in seconds of Cloud Pak for Data Watson Studio scheduled job ")),(0,n.kt)("h2",null,"Monitor Requirements"),(0,n.kt)("p",null,"In order for Watson Studio Job Information to be available, CCS (Common Core Services) must be available on the Cloud Pak for Data instance. Catridges like Watson Studio and Watson Machine Learning automatically install CCS as part of their dependencies. If CCS is not available, no watson studio job information is available."),(0,n.kt)("h2",null,"Deployment of the monitor"),(0,n.kt)("p",null,"This monitor can be deployed using the IBM Cloud Pak Deployer or manually deployed using oc commands:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/IBM/cp4d-monitors/monitors/cp4d-watsonstudio-job-schedule-info/deployer"},"Cloud Pak Deployer")," "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/IBM/cp4d-monitors/monitors/cp4d-watsonstudio-job-schedule-info/manual"},"Manual Deployment using oc commands"))),(0,n.kt)("h2",null,"Monitor Source"),(0,n.kt)("p",null,"Source folder containing the script can be found  ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/IBM/cp4d-monitors/tree/main/cp4d-watsonstudio-job-schedule-info"},"here (cp4d-watsonstudio-job-schedule-info).")," "),(0,n.kt)("h2",null,"Generated observations"),(0,n.kt)("p",null,"Once the monitor is deployed, the following observations are available in IBM Cloud Pak for Data Metrics:"),(0,n.kt)("h3",null,"Using the IBM Cloud Pak for Data Platform Management Events:"),(0,n.kt)("p",null,"https://","<","CP4D-BASE-URL",">","/zen/#/platformManagement/events"),(0,n.kt)("p",null,"On the Platform Management Events page the following entries are added:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Event"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Event Type"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Possible values"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Watson Studio Jobs Schedule Overall Count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"umber of Cloud Pak for Data Watson Studio scheduled jobs across all projects"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects and Jobs information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Waston Studio Jobs Schedule Project Count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of Cloud Pak for Data Watson Studio scheduled jobs per project"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects and Jobs information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Waston Studio Jobs Schedule User Overall Count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of Cloud Pak for Data Watson Studio scheduled jobs per user"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects and Jobs information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Waston Studio Jobs Schedule User Notebook Count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of Cloud Pak for Data Watson Studio scheduled Notebook jobs per user"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects and Jobs information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Waston Studio Jobs Schedule User DataStage Count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of Cloud Pak for Data Watson Studio scheduled DataStage jobs per user"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects and Jobs information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Waston Studio Job Schedule Last Run Fail"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Run information of Last failed Cloud Pak for Data Watson Studio scheduled job"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects and Jobs information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Waston Studio Job Schedule Next Run Epoch Time"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Epoch time in seconds for the next run of Cloud Pak for Data Watson Studio scheduled job"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects, Jobs information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Waston Studio Job Schedule Last Run Duration Seconds"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Last Run Duration time in seconds of Cloud Pak for Data Watson Studio scheduled job"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects, Jobs, and Job Details information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Waston Studio Job Schedule Last Run Epoch Time"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Last Run Epoch time in seconds of Cloud Pak for Data Watson Studio scheduled job"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects, Jobs, and Job Details information are requested.")))),(0,n.kt)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",(0,n.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"40.625%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAABJ0AAASdAHeZh94AAAA+klEQVQY06XQy07EMAwF0Pz/7wxIfYwQ3zKbqrVjx867kBamETtYcRZXUWQlujYvr8M836dpfPlxu92GYRjHcZqmeZ7HP9zf3s35D0YvcnHOqWqMMaXUsx9yzqWUfAkhEJFzTkSMRdy2TVWJCBFFhInJUr9hZlVd1/XxeCzLAgCIaK3li2FmIurvWWtjjES0rSszb8AAEEIAgGVZEJH5+WeMsc+b1j73Wltrx9Faa+d5ttZqKbXW+tH2vR7H8Wvhfd8NO0UEEacq3vtSiqoCAJFF9oiYUvQ+pJRyzj07771BK88i17SIhBCc494NrSBiX6eqeu97dt8L+wIkabvwXki+kQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,n.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Overview Events and Alerts",title:"Overview Events and Alerts",src:"/IBM/cp4d-monitors/static/5d6ba1188e859f8062ec134a355d5473/3cbba/cp4d_events.png",srcSet:["/IBM/cp4d-monitors/static/5d6ba1188e859f8062ec134a355d5473/7fc1e/cp4d_events.png 288w","/IBM/cp4d-monitors/static/5d6ba1188e859f8062ec134a355d5473/a5df1/cp4d_events.png 576w","/IBM/cp4d-monitors/static/5d6ba1188e859f8062ec134a355d5473/3cbba/cp4d_events.png 1152w","/IBM/cp4d-monitors/static/5d6ba1188e859f8062ec134a355d5473/0b124/cp4d_events.png 1728w","/IBM/cp4d-monitors/static/5d6ba1188e859f8062ec134a355d5473/6c456/cp4d_events.png 1878w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    "),(0,n.kt)("h3",null,"Using the IBM Cloud Pak for Data Prometheus endpoint"),(0,n.kt)("p",null,"https://","<","CP4D-BASE-URL",">","/zen/metrics"),(0,n.kt)("p",null,"It will generate 2 types of metrics:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Actual Result metrics",(0,n.kt)("br",{parentName:"li"}),"These metrics contain the observed values"),(0,n.kt)("li",{parentName:"ul"},"Zen Watchdog metrics",(0,n.kt)("br",{parentName:"li"}),"These metrics are used by the Cloud Pak for Data Zen Watchdog to monitor the state and trigger notifications")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Actual Result metrics:")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_jobs_schedule_overall_count\nProvides number of Cloud Pak for Data Watson Studio scheduled jobs across all projects"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_jobs_schedule_project_count\nProvides number of Cloud Pak for Data Watson Studio scheduled jobs per project"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_jobs_schedule_user_overall_count\nProvides number of Cloud Pak for Data Watson Studio scheduled jobs per user"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_jobs_schedule_user_notebook_count\nProvides number of Cloud Pak for Data Watson Studio scheduled Notebook jobs per user "),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_jobs_schedule_user_datastage_count\nProvides number of Cloud Pak for Data Watson Studio scheduled DataStage jobs per user"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_job_schedule_last_run_fail\nProvides run information of Last failed Cloud Pak for Data Watson Studio scheduled job"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_job_schedule_next_run_epoch_time\nProvides epoch time in seconds for the next run of Cloud Pak for Data Watson Studio scheduled job"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_job_schedule_last_run_duration_seconds\nProvides last run duration time in seconds of Cloud Pak for Data Watson Studio scheduled job"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_job_schedule_last_run_epoch_time\nProvides last run epoch time in seconds of Cloud Pak for Data Watson Studio scheduled job")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'# HELP cp4d_watsonstudio_job_schedule_last_run_duration_seconds \n# TYPE cp4d_watsonstudio_job_schedule_last_run_duration_seconds gauge\ncp4d_watsonstudio_job_schedule_last_run_duration_seconds{event_type="cp4d_watsonstudio_job_schedule_last_run_duration_seconds",monitor_type="cp4d_watsonstudio_job_schedule_info",reference="demo-project_notebook-job"} 320\n# HELP cp4d_watsonstudio_job_schedule_last_run_epoch_time \n# TYPE cp4d_watsonstudio_job_schedule_last_run_epoch_time gauge\ncp4d_watsonstudio_job_schedule_last_run_epoch_time{event_type="cp4d_watsonstudio_job_schedule_last_run_epoch_time",monitor_type="cp4d_watsonstudio_job_schedule_info",reference="demo-project_notebook-job"} 1.654066811e+09\n# HELP cp4d_watsonstudio_jobs_schedule_next_run_epoch_time \n# TYPE cp4d_watsonstudio_jobs_schedule_next_run_epoch_time gauge\ncp4d_watsonstudio_jobs_schedule_next_run_epoch_time{event_type="cp4d_watsonstudio_job_schedule_next_run_epoch_time",monitor_type="cp4d_watsonstudio_job_schedule_info",reference="demo-project_notebook-job"} 1.6540674e+09\n# HELP cp4d_watsonstudio_jobs_schedule_overall_count \n# TYPE cp4d_watsonstudio_jobs_schedule_overall_count gauge\ncp4d_watsonstudio_jobs_schedule_overall_count{event_type="cp4d_watsonstudio_jobs_schedule_overall_count",monitor_type="cp4d_watsonstudio_job_schedule_info",reference="All Watson Studio Projects"} 1\n# HELP cp4d_watsonstudio_jobs_schedule_project_count \n# TYPE cp4d_watsonstudio_jobs_schedule_project_count gauge\ncp4d_watsonstudio_jobs_schedule_project_count{event_type="cp4d_watsonstudio_jobs_schedule_project_count",monitor_type="cp4d_watsonstudio_job_schedule_info",reference="demo-project"} 1\n# HELP cp4d_watsonstudio_jobs_schedule_user_notebook_count \n# TYPE cp4d_watsonstudio_jobs_schedule_user_notebook_count gauge\ncp4d_watsonstudio_jobs_schedule_user_notebook_count{event_type="cp4d_watsonstudio_jobs_schedule_user_notebook_count",monitor_type="cp4d_watsonstudio_job_schedule_info",reference="demo-project_admin-notebook"} 1\n# HELP cp4d_watsonstudio_jobs_schedule_user_overall_count \n# TYPE cp4d_watsonstudio_jobs_schedule_user_overall_count gauge\ncp4d_watsonstudio_jobs_schedule_user_overall_count{event_type="cp4d_watsonstudio_jobs_schedule_user_overall_count",monitor_type="cp4d_watsonstudio_job_schedule_info",reference="admin"} 1\n')),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Zen Watchdog metrics")," (used in platform management events)"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_overall_count"),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_project_count"),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_user_overall_count"),(0,n.kt)("li",{parentName:"ul"},"atchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_user_notebook_count"),(0,n.kt)("li",{parentName:"ul"},"atchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_user_notebook_count"),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_job_schedule_last_run_fail"),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_job_schedule_next_run_epoch_time "),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_job_schedule_last_run_duration_seconds"),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_job_schedule_last_run_epoch_time")),(0,n.kt)("p",null,"Zen Watchdog metrics can have the following values:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"2 (info)"),(0,n.kt)("li",{parentName:"ul"},"1 (warning)"),(0,n.kt)("li",{parentName:"ul"},"0 (critical)")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'# HELP watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_job_schedule_last_run_duration_seconds \n# TYPE watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_job_schedule_last_run_duration_seconds gauge\nwatchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_job_schedule_last_run_duration_seconds{event_type="cp4d_watsonstudio_job_schedule_last_run_duration_seconds",monitor_type="cp4d_watsonstudio_job_schedule_info",reference="demo-project_notebook-job"} 2\n# HELP watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_job_schedule_last_run_epoch_time \n# TYPE watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_job_schedule_last_run_epoch_time gauge\nwatchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_job_schedule_last_run_epoch_time{event_type="cp4d_watsonstudio_job_schedule_last_run_epoch_time",monitor_type="cp4d_watsonstudio_job_schedule_info",reference="demo-project_notebook-job"} 2\n# HELP watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_job_schedule_next_run_epoch_time \n# TYPE watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_job_schedule_next_run_epoch_time gauge\nwatchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_job_schedule_next_run_epoch_time{event_type="cp4d_watsonstudio_job_schedule_next_run_epoch_time",monitor_type="cp4d_watsonstudio_job_schedule_info",reference="demo-project_notebook-job"} 2\n# HELP watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_overall_count \n# TYPE watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_overall_count gauge\nwatchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_overall_count{event_type="cp4d_watsonstudio_jobs_schedule_overall_count",monitor_type="cp4d_watsonstudio_job_schedule_info",reference="All Watson Studio Projects"} 2\n# HELP watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_project_count \n# TYPE watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_project_count gauge\nwatchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_project_count{event_type="cp4d_watsonstudio_jobs_schedule_project_count",monitor_type="cp4d_watsonstudio_job_schedule_info",reference="demo-project"} 2\n# HELP watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_user_notebook_count \n# TYPE watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_user_notebook_count gauge\nwatchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_user_notebook_count{event_type="cp4d_watsonstudio_jobs_schedule_user_notebook_count",monitor_type="cp4d_watsonstudio_job_schedule_info",reference="demo-project_admin-notebook"} 2\n# HELP watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_user_overall_count \n# TYPE watchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_user_overall_count gauge\nwatchdog_cp4d_watsonstudio_job_schedule_info_cp4d_watsonstudio_jobs_schedule_user_overall_count{event_type="cp4d_watsonstudio_jobs_schedule_user_overall_count",monitor_type="cp4d_watsonstudio_job_schedule_info",reference="admin"} 2\n')))}r.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-monitors-cp-4-d-watsonstudio-job-schedule-info-index-mdx-0d1b0022670547655555.js.map