"use strict";(self.webpackChunkcloud_pak_deployer_monitors=self.webpackChunkcloud_pak_deployer_monitors||[]).push([[5705],{6213:function(t,e,o){o.r(e),o.d(e,{_frontmatter:function(){return s},default:function(){return d}});var a=o(3366),n=(o(7294),o(4983)),u=o(7160),_=["components"],s={},r={_frontmatter:s},i=u.Z;function d(t){var e=t.components,o=(0,a.Z)(t,_);return(0,n.kt)(i,Object.assign({},r,o,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h2",null,"Monitor Summary"),(0,n.kt)("p",null,"This monitor will generate the following observations:  "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Number of Cloud Pak for Data Watson Studio Runtime Pods across all projects"),(0,n.kt)("li",{parentName:"ul"},"Number of Cloud Pak for Data Watson Studio Runtime Pods per project"),(0,n.kt)("li",{parentName:"ul"},"CPU usage of Cloud Pak for Data Watson Studio Runtime Pods per project"),(0,n.kt)("li",{parentName:"ul"},"Memory usage of Cloud Pak for Data Watson Studio Runtime Pods per project"),(0,n.kt)("li",{parentName:"ul"},"CPU usage of Cloud Pak for Data Watson Studio Runtime Pods per pod "),(0,n.kt)("li",{parentName:"ul"},"Memory usage of Cloud Pak for Data Watson Studio Runtime Pods per pod")),(0,n.kt)("h2",null,"Monitor Requirements"),(0,n.kt)("p",null,"In order for Watson Studio Job Information to be available, CCS (Common Core Services) must be available on the Cloud Pak for Data instance. Catridges like Watson Studio and Watson Machine Learning automatically install CCS as part of their dependencies. If CCS is not available, no watson studio job information is available."),(0,n.kt)("h2",null,"Deployment of the monitor"),(0,n.kt)("p",null,"This monitor can be deployed using the IBM Cloud Pak Deployer or manually deployed using oc commands:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/cp4d-monitors/monitors/cp4d-watsonstudio-runtime-usage/deployer"},"Cloud Pak Deployer")," "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/cp4d-monitors/monitors/cp4d-watsonstudio-runtime-usage/manual"},"Manual Deployment using oc commands"))),(0,n.kt)("h2",null,"Monitor Source"),(0,n.kt)("p",null,"Source folder containing the script can be found  ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/IBM/cp4d-monitors/tree/main/cp4d-watsonstudio-runtime-usage"},"here (cp4d-watsonstudio-runtime-usage).")," "),(0,n.kt)("h2",null,"Generated observations"),(0,n.kt)("p",null,"Once the monitor is deployed, the following observations are available in IBM Cloud Pak for Data Metrics:"),(0,n.kt)("h3",null,"Using the IBM Cloud Pak for Data Platform Management Events:"),(0,n.kt)("p",null,"https://","<","CP4D-BASE-URL",">","/zen/#/platformManagement/events"),(0,n.kt)("p",null,"On the Platform Management Events page the following entries are added:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Event"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Event Type"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Possible values"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Waston Studio Runtime Usage Total Count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of Cloud Pak for Data Watson Studio Runtime Pods across all projects"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects and Pods information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Waston Studio Runtime Usage Project Count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of Cloud Pak for Data Watson Studio Runtime Pods per project"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects and Pods information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Waston Studio Runtime Usage Project CPU"),(0,n.kt)("td",{parentName:"tr",align:"left"},"CPU usage of Cloud Pak for Data Watson Studio Runtime Pods per project"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects, Pods information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Waston Studio Runtime Usage Project Memory"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Memory usage of Cloud Pak for Data Watson Studio Runtime Pods per project"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects, Pods information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Waston Studio Runtime Project CPU"),(0,n.kt)("td",{parentName:"tr",align:"left"},"CPU usage of Cloud Pak for Data Watson Studio Runtime Pods per pod"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects, Pods information are requested.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Cloud Pak for Data Waston Studio Runtime Project Memory"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Memory usage of Cloud Pak for Data Watson Studio Runtime Pods per pod"),(0,n.kt)("td",{parentName:"tr",align:"left"},"info"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Cloud Pak for Data Platform Projects, Pods information are requested.")))),(0,n.kt)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",(0,n.kt)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"40.97222222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAABJ0AAASdAHeZh94AAABEklEQVQY05XQyW7CMBSF4bz/W8CCYKK+DxKZCJEjhZJ4nq4dV7FbVKmrfgvrbs7Cf3E8nk4lQufz8cfhcCjL8nK5IISqqkJ/nBNUfRQhBJds2xb/qWCMc84ppYyx/AohlVIyyYfW2hijEykFIYTRfVcsyzLPM6WUEPL6fDHGCCHrunLO38fz+RzHcZ7n1+e3dV2XZSn6Add1jTF+PB5d103TNNzvt9ut7/u2G+qmwRg3TXO9Xtu27btuGIYpGcexMNYqpUIIAJB/7gFsog0IIb0HAMhFtiQkWuvCGsM5935fWmtijAAghdRKCeUIYdu2Fw0h5Nm76z52zuUYzjkAiDF6gFRIGwvamC0E732e/WaM+QIMeLjFmMcI6gAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",(0,n.kt)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"Overview Events and Alerts",title:"Overview Events and Alerts",src:"/cp4d-monitors/static/bcb816898e0f505779f9493121d2fe94/3cbba/cp4d_events.png",srcSet:["/cp4d-monitors/static/bcb816898e0f505779f9493121d2fe94/7fc1e/cp4d_events.png 288w","/cp4d-monitors/static/bcb816898e0f505779f9493121d2fe94/a5df1/cp4d_events.png 576w","/cp4d-monitors/static/bcb816898e0f505779f9493121d2fe94/3cbba/cp4d_events.png 1152w","/cp4d-monitors/static/bcb816898e0f505779f9493121d2fe94/0b124/cp4d_events.png 1728w","/cp4d-monitors/static/bcb816898e0f505779f9493121d2fe94/20ee3/cp4d_events.png 1896w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy",decoding:"async"}),"\n    "),(0,n.kt)("h3",null,"Using the IBM Cloud Pak for Data Prometheus endpoint"),(0,n.kt)("p",null,"https://","<","CP4D-BASE-URL",">","/zen/metrics"),(0,n.kt)("p",null,"It will generate 2 types of metrics:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Actual Result metrics",(0,n.kt)("br",{parentName:"li"}),"These metrics contain the observed values"),(0,n.kt)("li",{parentName:"ul"},"Zen Watchdog metrics",(0,n.kt)("br",{parentName:"li"}),"These metrics are used by the Cloud Pak for Data Zen Watchdog to monitor the state and trigger notifications")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Actual Result metrics:")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_runtime_usage_total_count\nProvides number of Cloud Pak for Data Watson Studio Runtime Pods across all projects"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_runtime_usage_project_count\nProvides number of Cloud Pak for Data Watson Studio Runtime Pods per project"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_runtime_usage_project_cpu\nProvides CPU usage of Cloud Pak for Data Watson Studio Runtime Pods per project"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_runtime_usage_project_memory\nProvides Memory usage of Cloud Pak for Data Watson Studio Runtime Pods per project"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_runtime_usage_cpu\nProvides CPU usage of Cloud Pak for Data Watson Studio Runtime Pods per pod"),(0,n.kt)("li",{parentName:"ul"},"cp4d_watsonstudio_runtime_usage_memory\nProvides Memory usage of Cloud Pak for Data Watson Studio Runtime Pods per pod")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'# HELP cp4d_watsonstudio_runtime_usage_cpu_limit \n# TYPE cp4d_watsonstudio_runtime_usage_cpu_limit gauge\ncp4d_watsonstudio_runtime_usage_cpu_limit{event_type="cp4d_watsonstudio_runtime_usage_cpu",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project_jupyter-py39-584e139f-4d51-4c4c-99b4-040002e84dff-6c47b85f4f78q"} 1000\n# HELP cp4d_watsonstudio_runtime_usage_cpu_requests \n# TYPE cp4d_watsonstudio_runtime_usage_cpu_requests gauge\ncp4d_watsonstudio_runtime_usage_cpu_requests{event_type="cp4d_watsonstudio_runtime_usage_cpu",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project_jupyter-py39-584e139f-4d51-4c4c-99b4-040002e84dff-6c47b85f4f78q"} 1000\n# HELP cp4d_watsonstudio_runtime_usage_cpu_utilization \n# TYPE cp4d_watsonstudio_runtime_usage_cpu_utilization gauge\ncp4d_watsonstudio_runtime_usage_cpu_utilization{event_type="cp4d_watsonstudio_runtime_usage_cpu",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project_jupyter-py39-584e139f-4d51-4c4c-99b4-040002e84dff-6c47b85f4f78q"} 0\n# HELP cp4d_watsonstudio_runtime_usage_memory_limit \n# TYPE cp4d_watsonstudio_runtime_usage_memory_limit gauge\ncp4d_watsonstudio_runtime_usage_memory_limit{event_type="cp4d_watsonstudio_runtime_usage_memory",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project_jupyter-py39-584e139f-4d51-4c4c-99b4-040002e84dff-6c47b85f4f78q"} 2\n# HELP cp4d_watsonstudio_runtime_usage_memory_requests \n# TYPE cp4d_watsonstudio_runtime_usage_memory_requests gauge\ncp4d_watsonstudio_runtime_usage_memory_requests{event_type="cp4d_watsonstudio_runtime_usage_memory",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project_jupyter-py39-584e139f-4d51-4c4c-99b4-040002e84dff-6c47b85f4f78q"} 2\n# HELP cp4d_watsonstudio_runtime_usage_memory_utilization \n# TYPE cp4d_watsonstudio_runtime_usage_memory_utilization gauge\ncp4d_watsonstudio_runtime_usage_memory_utilization{event_type="cp4d_watsonstudio_runtime_usage_memory",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project_jupyter-py39-584e139f-4d51-4c4c-99b4-040002e84dff-6c47b85f4f78q"} 3.814697265625e-05\n# HELP cp4d_watsonstudio_runtime_usage_project_count \n# TYPE cp4d_watsonstudio_runtime_usage_project_count gauge\ncp4d_watsonstudio_runtime_usage_project_count{event_type="cp4d_watsonstudio_runtime_usage_project_count",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project"} 1\n# HELP cp4d_watsonstudio_runtime_usage_project_cpu_limit \n# TYPE cp4d_watsonstudio_runtime_usage_project_cpu_limit gauge\ncp4d_watsonstudio_runtime_usage_project_cpu_limit{event_type="cp4d_watsonstudio_runtime_usage_project_cpu",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project"} 1000\n# HELP cp4d_watsonstudio_runtime_usage_project_cpu_requests \n# TYPE cp4d_watsonstudio_runtime_usage_project_cpu_requests gauge\ncp4d_watsonstudio_runtime_usage_project_cpu_requests{event_type="cp4d_watsonstudio_runtime_usage_project_cpu",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project"} 2\n# HELP cp4d_watsonstudio_runtime_usage_project_cpu_utilization \n# TYPE cp4d_watsonstudio_runtime_usage_project_cpu_utilization gauge\ncp4d_watsonstudio_runtime_usage_project_cpu_utilization{event_type="cp4d_watsonstudio_runtime_usage_project_cpu",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project"} 0\n# HELP cp4d_watsonstudio_runtime_usage_project_memory_limit \n# TYPE cp4d_watsonstudio_runtime_usage_project_memory_limit gauge\ncp4d_watsonstudio_runtime_usage_project_memory_limit{event_type="cp4d_watsonstudio_runtime_usage_project_memory",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project"} 2\n# HELP cp4d_watsonstudio_runtime_usage_project_memory_requests \n# TYPE cp4d_watsonstudio_runtime_usage_project_memory_requests gauge\ncp4d_watsonstudio_runtime_usage_project_memory_requests{event_type="cp4d_watsonstudio_runtime_usage_project_memory",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project"} 2\n# HELP cp4d_watsonstudio_runtime_usage_project_memory_utilization \n# TYPE cp4d_watsonstudio_runtime_usage_project_memory_utilization gauge\ncp4d_watsonstudio_runtime_usage_project_memory_utilization{event_type="cp4d_watsonstudio_runtime_usage_project_memory",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project"} 3.814697265625e-05\n# HELP cp4d_watsonstudio_runtime_usage_total_count \n# TYPE cp4d_watsonstudio_runtime_usage_total_count gauge\ncp4d_watsonstudio_runtime_usage_total_count{event_type="cp4d_watsonstudio_runtime_usage_total_count",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project"} 1\n')),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Zen Watchdog metrics")," (used in platform management events)"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_total_count"),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_project_count"),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_project_cpu"),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_project_memory"),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_cpu"),(0,n.kt)("li",{parentName:"ul"},"watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_memory")),(0,n.kt)("p",null,"Zen Watchdog metrics can have the following values:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"2 (info)"),(0,n.kt)("li",{parentName:"ul"},"1 (warning)"),(0,n.kt)("li",{parentName:"ul"},"0 (critical)")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'# HELP watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_cpu \n# TYPE watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_cpu gauge\nwatchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_cpu{event_type="cp4d_watsonstudio_runtime_usage_cpu",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project_jupyter-py39-584e139f-4d51-4c4c-99b4-040002e84dff-6c47b85f4f78q"} 2\n# HELP watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_memory \n# TYPE watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_memory gauge\nwatchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_memory{event_type="cp4d_watsonstudio_runtime_usage_memory",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project_jupyter-py39-584e139f-4d51-4c4c-99b4-040002e84dff-6c47b85f4f78q"} 2\n# HELP watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_project_count \n# TYPE watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_project_count gauge\nwatchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_project_count{event_type="cp4d_watsonstudio_runtime_usage_project_count",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project"} 2\n# HELP watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_project_cpu \n# TYPE watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_project_cpu gauge\nwatchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_project_cpu{event_type="cp4d_watsonstudio_runtime_usage_project_cpu",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project"} 2\n# HELP watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_project_memory \n# TYPE watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_project_memory gauge\nwatchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_project_memory{event_type="cp4d_watsonstudio_runtime_usage_project_memory",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project"} 2\n# HELP watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_total_count \n# TYPE watchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_total_count gauge\nwatchdog_cp4d_watsonstudio_runtime_usage_cp4d_watsonstudio_runtime_usage_total_count{event_type="cp4d_watsonstudio_runtime_usage_total_count",monitor_type="cp4d_watsonstudio_runtime_usage",reference="demo-project"} 2\n')))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-monitors-cp-4-d-watsonstudio-runtime-usage-index-mdx-418100257a760c07a0fc.js.map